<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <div id="results">
        <h1>Rock Paper Scissors!</h1>
        <p id="roundResult">Chose your weapon to begin playing!</p>
        <div>
            <p id="playerScore">Player Score: 0</p>
            <p id="computerScore">Computer Score: 0</p>
        </div>
        <p id="winner"></p>
        <p id="countdown"></p>
    </div>

    <div>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>
    </div>
</body>


<script>
    let choices = ["rock", "paper" , "scissors"]
    let computerChoice;
    let playerChoice;
    let computerScore = 0;
    let playerScore = 0; 

    let countDown = document.querySelector('#countdown')
    let winnerAnnouncement = document.querySelector('#winner')
    let computerScoreCount = document.querySelector('#computerScore')
    let playerScoreCount = document.querySelector('#playerScore')
    let roundResult = document.querySelector('#roundResult')
    let rockButton = document.querySelector('#rock')
    let paperButton = document.querySelector('#paper')
    let scissorsButton = document.querySelector('#scissors')



    rockButton.addEventListener('click', () => {
        computerChoice = getComputerChoice()
        playerChoice = 'rock'
        playRound(playerChoice, computerChoice)
    })

    paperButton.addEventListener('click', () => {
        computerChoice = getComputerChoice()
        playerChoice = 'paper'
        playRound(playerChoice, computerChoice)
    })

    scissorsButton.addEventListener('click', () => {
        computerChoice = getComputerChoice()
        playerChoice = 'scissors'
        playRound(playerChoice, computerChoice)
    })

    // function game(){
    //     for (let i = 0; i < 5; i++) {
    //             computerChoice = getComputerChoice();
    //             playerChoice = getPlayerChoice();
    //             playRound(playerChoice, computerChoice)
    //         }
    //     if (playerScore > computerScore){
    //         alert(`You win this best of 5!
    //         Computer Score: ${computerScore}
    //         Player Score: ${playerScore}`);
    //     }
    //     else if (playerScore < computerScore){
    //         alert(`You lose this best of 5!
    //         Computer Score: ${computerScore}
    //         Player Score: ${playerScore}`);
    //     }
    //     else if (playerScore === computerScore){
    //         alert(`You Drew
    //         Computer Score: ${computerScore}
    //         Player Score: ${playerScore}`);
    //     }
    //     else return 
    //     }


    

    function getComputerChoice() {
        let randomNumber = Math.floor(Math.random() * 3);
        let computerChoice = choices[randomNumber];
        return computerChoice
        
    }

    function playRound(playerChoice, computerChoice ){
        if (playerChoice === "rock" && computerChoice === "scissors"){
            roundResult.textContent =" Computer chose Scissors! You win this round";
            playerScore++
            updateScore()
        }
        else if (playerChoice === "rock" && computerChoice ==="paper"){
            roundResult.textContent = "Computer chose Paper! You lose this round";
            computerScore++
            updateScore()
        }
        else if (playerChoice === "scissors" && computerChoice === "paper"){
            roundResult.textContent = "Computer chose Paper! You win this round";
            playerScore++
            updateScore()
        }
        else if (playerChoice === "scissors" && computerChoice === "rock"){
            roundResult.textContent = "Computer chose Rock! You lose this round";
            computerScore++
            updateScore()
        }
        else if (playerChoice === "paper" && computerChoice === "rock"){
            roundResult.textContent ="Computer chose Rock! You win this round";
            playerScore++
            updateScore()
        }
        else if (playerChoice === "paper" && computerChoice === "scissors"){
            roundResult.textContent = "Computer chose Scissors! You lose this round";
            computerScore++
            updateScore()
        }
        else if(playerChoice === computerChoice){
            roundResult.textContent = `Computer chose ${computerChoice}! Its a tie`;
            updateScore()
        }
        else return}

        function updateScore () {
        if (playerScore === 5){
            playerScoreCount.textContent = `Player Score: ${playerScore}`
            winnerAnnouncement.textContent = 'You are the winner!'
            setInterval(resetScore(), 50000)
        }
        else if (computerScore === 5){
            computerScoreCount.textContent = `Computer Score: ${computerScore}`
            winnerAnnouncement.textContent = 'You lost!'
            setInterval(resetScore(), 50000)
        }

        function resetScore(){
            computerScore = 0;
            playerScore = 0;

        }
        playerScoreCount.textContent = `Player Score: ${playerScore}`
        computerScoreCount.textContent = `Computer Score: ${computerScore}`
    }
</script>

</html>